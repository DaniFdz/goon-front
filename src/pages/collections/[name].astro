---
import Layout from '@/layouts/Layout.astro';
import type { Collection, Item } from '@/types/collections';
import collections from "@/data/collections.json"
import itemsData from "@/data/items.json"

const items: Item[] = itemsData;

export function getStaticPaths(){
    return collections.map((collection) => {
        return { params: { name: collection.name } }
    })
}

const { name } = Astro.params
const filteredItems = items.filter((item) => item.collection === name);
---

<Layout title={`GOON - ${name}`}>
    {JSON.stringify(filteredItems)}
</Layout>